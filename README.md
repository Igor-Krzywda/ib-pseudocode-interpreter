IB pseudocode implementation in C++
